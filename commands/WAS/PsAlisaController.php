<?php


namespace app\commands;
use yii\console\Controller;
use app\models\ProductColor;

include 'simple_html_dom.php';

$listProduct = array();





class PsAlisaController extends ParseController{
    public $categoryId = 17037;
    public $manufacturerId = 6;
    public $listColors = [];
    public $listProduct = [];
    public $aSku1c;


    public function init(){
        $this->aSku1c = [
            [ 'id1c' => 17050, 'sku' => '0-02' ],
            [ 'id1c' => 17063, 'sku' => '0-03' ],
            [ 'id1c' => 17616, 'sku' => '0-04' ],
            [ 'id1c' => 17051, 'sku' => '0-05' ],
            [ 'id1c' => 17841, 'sku' => '0-06' ],
            [ 'id1c' => 17042, 'sku' => '0-07' ],
            [ 'id1c' => 17041, 'sku' => '0-08' ],
            [ 'id1c' => 17061, 'sku' => '0-09' ],
            [ 'id1c' => 17060, 'sku' => '0-10' ],
            [ 'id1c' => 18695, 'sku' => '0-100' ],
            [ 'id1c' => 18696, 'sku' => '0-101' ],
            [ 'id1c' => 18697, 'sku' => '0-102' ],
            [ 'id1c' => 18698, 'sku' => '0-103' ],
            [ 'id1c' => 18699, 'sku' => '0-104' ],
            [ 'id1c' => 18700, 'sku' => '0-105' ],
            [ 'id1c' => 18701, 'sku' => '0-106' ],
            [ 'id1c' => 18702, 'sku' => '0-107' ],
            [ 'id1c' => 18703, 'sku' => '0-108' ],
            [ 'id1c' => 17048, 'sku' => '0-11' ],
            [ 'id1c' => 18705, 'sku' => '0-111' ],
            [ 'id1c' => 18887, 'sku' => '0-112' ],
            [ 'id1c' => 18888, 'sku' => '0-113' ],
            [ 'id1c' => 18890, 'sku' => '0-115' ],
            [ 'id1c' => 18891, 'sku' => '0-116' ],
            [ 'id1c' => 18892, 'sku' => '0-117' ],
            [ 'id1c' => 18893, 'sku' => '0-118' ],
            [ 'id1c' => 18894, 'sku' => '0-119' ],
            [ 'id1c' => 17066, 'sku' => '0-12' ],
            [ 'id1c' => 18943, 'sku' => '0-120' ],
            [ 'id1c' => 18944, 'sku' => '0-121' ],
            [ 'id1c' => 18945, 'sku' => '0-122' ],
            [ 'id1c' => 18946, 'sku' => '0-123' ],
            [ 'id1c' => 17617, 'sku' => '0-13' ],
            [ 'id1c' => 17618, 'sku' => '0-14' ],
            [ 'id1c' => 18895, 'sku' => '0-15' ],
            [ 'id1c' => 17039, 'sku' => '0-16' ],
            [ 'id1c' => 17045, 'sku' => '0-18' ],
            [ 'id1c' => 18947, 'sku' => '0-19' ],
            [ 'id1c' => 17619, 'sku' => '0-20' ],
            [ 'id1c' => 17620, 'sku' => '0-21' ],
            [ 'id1c' => 17621, 'sku' => '0-23' ],
            [ 'id1c' => 17622, 'sku' => '0-24' ],
            [ 'id1c' => 17069, 'sku' => '0-26' ],
            [ 'id1c' => 17623, 'sku' => '0-27' ],
            [ 'id1c' => 17065, 'sku' => '0-28' ],
            [ 'id1c' => 17624, 'sku' => '0-31' ],
            [ 'id1c' => 17038, 'sku' => '0-32' ],
            [ 'id1c' => 17054, 'sku' => '0-33' ],
            [ 'id1c' => 17053, 'sku' => '0-34' ],
            [ 'id1c' => 17071, 'sku' => '0-35' ],
            [ 'id1c' => 17075, 'sku' => '0-36' ],
            [ 'id1c' => 17068, 'sku' => '0-37' ],
            [ 'id1c' => 17049, 'sku' => '0-40' ],
            [ 'id1c' => 17043, 'sku' => '0-41' ],
            [ 'id1c' => 17044, 'sku' => '0-42' ],
            [ 'id1c' => 17626, 'sku' => '0-43' ],
            [ 'id1c' => 17627, 'sku' => '0-44' ],
            [ 'id1c' => 17628, 'sku' => '0-45' ],
            [ 'id1c' => 18948, 'sku' => '0-48' ],
            [ 'id1c' => 17629, 'sku' => '0-49' ],
            [ 'id1c' => 17630, 'sku' => '0-50' ],
            [ 'id1c' => 17631, 'sku' => '0-51' ],
            [ 'id1c' => 17632, 'sku' => '0-52' ],
            [ 'id1c' => 17633, 'sku' => '0-53' ],
            [ 'id1c' => 17057, 'sku' => '0-54' ],
            [ 'id1c' => 18098, 'sku' => '0-55' ],
            [ 'id1c' => 18117, 'sku' => '0-56' ],
            [ 'id1c' => 18118, 'sku' => '0-59' ],
            [ 'id1c' => 18896, 'sku' => '0-60' ],
            [ 'id1c' => 17634, 'sku' => '0-61' ],
            [ 'id1c' => 17635, 'sku' => '0-62' ],
            [ 'id1c' => 17636, 'sku' => '0-63' ],
            [ 'id1c' => 18119, 'sku' => '0-64' ],
            [ 'id1c' => 17637, 'sku' => '0-65' ],
            [ 'id1c' => 17639, 'sku' => '0-67' ],
            [ 'id1c' => 17640, 'sku' => '0-68' ],
            [ 'id1c' => 17842, 'sku' => '0-70' ],
            [ 'id1c' => 17843, 'sku' => '0-71' ],
            [ 'id1c' => 17844, 'sku' => '0-72' ],
            [ 'id1c' => 17845, 'sku' => '0-73' ],
            [ 'id1c' => 17846, 'sku' => '0-74' ],
            [ 'id1c' => 17847, 'sku' => '0-75' ],
            [ 'id1c' => 17848, 'sku' => '0-77' ],
            [ 'id1c' => 17849, 'sku' => '0-78' ],
            [ 'id1c' => 18099, 'sku' => '0-79' ],
            [ 'id1c' => 18100, 'sku' => '0-80' ],
            [ 'id1c' => 18101, 'sku' => '0-81' ],
            [ 'id1c' => 18102, 'sku' => '0-82' ],
            [ 'id1c' => 18103, 'sku' => '0-83' ],
            [ 'id1c' => 18104, 'sku' => '0-84' ],
            [ 'id1c' => 18105, 'sku' => '0-85' ],
            [ 'id1c' => 18107, 'sku' => '0-87' ],
            [ 'id1c' => 18708, 'sku' => '0-89' ],
            [ 'id1c' => 18709, 'sku' => '0-90' ],
            [ 'id1c' => 18710, 'sku' => '0-91' ],
            [ 'id1c' => 18712, 'sku' => '0-93' ],
            [ 'id1c' => 18713, 'sku' => '0-94' ],
            [ 'id1c' => 18714, 'sku' => '0-95' ],
            [ 'id1c' => 18949, 'sku' => '0-96' ],
            [ 'id1c' => 18715, 'sku' => '0-97' ],
            [ 'id1c' => 18716, 'sku' => '0-98' ],
            [ 'id1c' => 18717, 'sku' => '0-99' ],
            [ 'id1c' => 17642, 'sku' => '1-01' ],
            [ 'id1c' => 17046, 'sku' => '1-02' ],
            [ 'id1c' => 17059, 'sku' => '1-03' ],
            [ 'id1c' => 17073, 'sku' => '1-04' ],
            [ 'id1c' => 17850, 'sku' => '1-05' ],
            [ 'id1c' => 17056, 'sku' => '1-06' ],
            [ 'id1c' => 17851, 'sku' => '1-07' ],
            [ 'id1c' => 17643, 'sku' => '1-08' ],
            [ 'id1c' => 17644, 'sku' => '1-09' ],
            [ 'id1c' => 17645, 'sku' => '1-10' ],
            [ 'id1c' => 17646, 'sku' => '1-11' ],
            [ 'id1c' => 17647, 'sku' => '1-12' ],
            [ 'id1c' => 17852, 'sku' => '1-13' ],
            [ 'id1c' => 18108, 'sku' => '1-14' ],
            [ 'id1c' => 18109, 'sku' => '1-15' ],
            [ 'id1c' => 18718, 'sku' => '1-16' ],
            [ 'id1c' => 18719, 'sku' => '1-17' ],
            [ 'id1c' => 18897, 'sku' => '1-18' ],
            [ 'id1c' => 18898, 'sku' => '1-19' ],
            [ 'id1c' => 18899, 'sku' => '1-20' ],
            [ 'id1c' => 18900, 'sku' => '1-21' ],
            [ 'id1c' => 17077, 'sku' => '2-01' ],
            [ 'id1c' => 17062, 'sku' => '2-02' ],
            [ 'id1c' => 17091, 'sku' => '2-03' ],
            [ 'id1c' => 17092, 'sku' => '2-04' ],
            [ 'id1c' => 17052, 'sku' => '2-05' ],
            [ 'id1c' => 17067, 'sku' => '2-06' ],
            [ 'id1c' => 17070, 'sku' => '2-07' ],
            [ 'id1c' => 17086, 'sku' => '2-08' ],
            [ 'id1c' => 17648, 'sku' => '2-09' ],
            [ 'id1c' => 17649, 'sku' => '2-10' ],
            [ 'id1c' => 17096, 'sku' => '2-11' ],
            [ 'id1c' => 17072, 'sku' => '2-12' ],
            [ 'id1c' => 17650, 'sku' => '2-13' ],
            [ 'id1c' => 17651, 'sku' => '2-14' ],
            [ 'id1c' => 17652, 'sku' => '2-15' ],
            [ 'id1c' => 17653, 'sku' => '2-16' ],
            [ 'id1c' => 17654, 'sku' => '2-17' ],
            [ 'id1c' => 17655, 'sku' => '2-18' ],
            [ 'id1c' => 17656, 'sku' => '2-19' ],
            [ 'id1c' => 17853, 'sku' => '2-20' ],
            [ 'id1c' => 17854, 'sku' => '2-21' ],
            [ 'id1c' => 18111, 'sku' => '2-23' ],
            [ 'id1c' => 18720, 'sku' => '2-24' ],
            [ 'id1c' => 18721, 'sku' => '2-25' ],
            [ 'id1c' => 18722, 'sku' => '2-26' ],
            [ 'id1c' => 18723, 'sku' => '2-27' ],
            [ 'id1c' => 18724, 'sku' => '2-28' ],
            [ 'id1c' => 18903, 'sku' => '2-29' ],
            [ 'id1c' => 18904, 'sku' => '2-30' ],
            [ 'id1c' => 18905, 'sku' => '2-31' ],
            [ 'id1c' => 18950, 'sku' => '2-32' ],
            [ 'id1c' => 17095, 'sku' => '3-01' ],
            [ 'id1c' => 17094, 'sku' => '3-02' ],
            [ 'id1c' => 17081, 'sku' => '3-03' ],
            [ 'id1c' => 17079, 'sku' => '3-04' ],
            [ 'id1c' => 17080, 'sku' => '3-05' ],
            [ 'id1c' => 17657, 'sku' => '3-06' ],
            [ 'id1c' => 17658, 'sku' => '3-07' ],
            [ 'id1c' => 17076, 'sku' => '3-08' ],
            [ 'id1c' => 17659, 'sku' => '3-09' ],
            [ 'id1c' => 17855, 'sku' => '3-10' ],
            [ 'id1c' => 17857, 'sku' => '3-12' ],
            [ 'id1c' => 18725, 'sku' => '3-13' ],
            [ 'id1c' => 18726, 'sku' => '3-14' ],
            [ 'id1c' => 18906, 'sku' => '3-15' ],
            [ 'id1c' => 1314, 'sku' => '3-17' ],
            [ 'id1c' => 17078, 'sku' => '4-01' ],
            [ 'id1c' => 17660, 'sku' => '4-02' ],
            [ 'id1c' => 17093, 'sku' => '4-03' ],
            [ 'id1c' => 17089, 'sku' => '4-05' ],
            [ 'id1c' => 17084, 'sku' => '4-06' ],
            [ 'id1c' => 17085, 'sku' => '4-07' ],
            [ 'id1c' => 18112, 'sku' => '4-08' ],
            [ 'id1c' => 18113, 'sku' => '4-09' ],
            [ 'id1c' => 18727, 'sku' => '4-10' ],
            [ 'id1c' => 18729, 'sku' => '4-12' ],
            [ 'id1c' => 18730, 'sku' => '4-13' ],
            [ 'id1c' => 18731, 'sku' => '4-14' ],
            [ 'id1c' => 18732, 'sku' => '4-15' ],
            [ 'id1c' => 18733, 'sku' => '4-16' ],
            [ 'id1c' => 17090, 'sku' => '5-03' ],
            [ 'id1c' => 17087, 'sku' => '5-04' ],
            [ 'id1c' => 17664, 'sku' => '5-05' ],
            [ 'id1c' => 17665, 'sku' => '5-08' ],
            [ 'id1c' => 17666, 'sku' => '5-09' ],
            [ 'id1c' => 17667, 'sku' => '5-10' ],
            [ 'id1c' => 18114, 'sku' => '5-11' ],
            [ 'id1c' => 18908, 'sku' => '5-12' ],
            [ 'id1c' => 18907, 'sku' => '5-13' ],
            [ 'id1c' => 18952, 'sku' => '5-14' ],
            [ 'id1c' => 18953, 'sku' => '5-15' ],
            [ 'id1c' => 1028, 'sku' => '6-04' ],
            [ 'id1c' => 1472, 'sku' => '6-05' ],
            [ 'id1c' => 1445, 'sku' => '6-06' ],
            [ 'id1c' => 6199, 'sku' => '6-07' ],
            [ 'id1c' => 17040, 'sku' => '0-01' ],
            [ 'id1c' => 17063, 'sku' => '0-03' ],
            [ 'id1c' => 17616, 'sku' => '0-04' ],
            [ 'id1c' => 17051, 'sku' => '0-05' ],
            [ 'id1c' => 17841, 'sku' => '0-06' ],
            [ 'id1c' => 17042, 'sku' => '0-07' ],
            [ 'id1c' => 17041, 'sku' => '0-08' ],
            [ 'id1c' => 17061, 'sku' => '0-09' ],
            [ 'id1c' => 17060, 'sku' => '0-10' ],
            [ 'id1c' => 18695, 'sku' => '0-100' ],
            [ 'id1c' => 18696, 'sku' => '0-101' ],
            [ 'id1c' => 18697, 'sku' => '0-102' ],
            [ 'id1c' => 18698, 'sku' => '0-103' ],
            [ 'id1c' => 18699, 'sku' => '0-104' ],
            [ 'id1c' => 18700, 'sku' => '0-105' ],
            [ 'id1c' => 18701, 'sku' => '0-106' ],
            [ 'id1c' => 18702, 'sku' => '0-107' ],
            [ 'id1c' => 18703, 'sku' => '0-108' ],
            [ 'id1c' => 18704, 'sku' => '0-109' ],
            [ 'id1c' => 17048, 'sku' => '0-11' ],
            [ 'id1c' => 18705, 'sku' => '0-111' ],
            [ 'id1c' => 18887, 'sku' => '0-112' ],
            [ 'id1c' => 18888, 'sku' => '0-113' ],
            [ 'id1c' => 18889, 'sku' => '0-114' ],
            [ 'id1c' => 18890, 'sku' => '0-115' ],
            [ 'id1c' => 18891, 'sku' => '0-116' ],
            [ 'id1c' => 18892, 'sku' => '0-117' ],
            [ 'id1c' => 18893, 'sku' => '0-118' ],
            [ 'id1c' => 18894, 'sku' => '0-119' ],
            [ 'id1c' => 17066, 'sku' => '0-12' ],
            [ 'id1c' => 18943, 'sku' => '0-120' ],
            [ 'id1c' => 18944, 'sku' => '0-121' ],
            [ 'id1c' => 18945, 'sku' => '0-122' ],
            [ 'id1c' => 18946, 'sku' => '0-123' ],
            [ 'id1c' => 17617, 'sku' => '0-13' ],
            [ 'id1c' => 17618, 'sku' => '0-14' ],
            [ 'id1c' => 18895, 'sku' => '0-15' ],
            [ 'id1c' => 17039, 'sku' => '0-16' ],
            [ 'id1c' => 17055, 'sku' => '0-17' ],
            [ 'id1c' => 17045, 'sku' => '0-18' ],
            [ 'id1c' => 18947, 'sku' => '0-19' ],
            [ 'id1c' => 17619, 'sku' => '0-20' ],
            [ 'id1c' => 17620, 'sku' => '0-21' ],
            [ 'id1c' => 18115, 'sku' => '0-22' ],
            [ 'id1c' => 17621, 'sku' => '0-23' ],
            [ 'id1c' => 17622, 'sku' => '0-24' ],
            [ 'id1c' => 17069, 'sku' => '0-26' ],
            [ 'id1c' => 17623, 'sku' => '0-27' ],
            [ 'id1c' => 17065, 'sku' => '0-28' ],
            [ 'id1c' => 17074, 'sku' => '0-29' ],
            [ 'id1c' => 17064, 'sku' => '0-30' ],
            [ 'id1c' => 17624, 'sku' => '0-31' ],
            [ 'id1c' => 17038, 'sku' => '0-32' ],
            [ 'id1c' => 17054, 'sku' => '0-33' ],
            [ 'id1c' => 17053, 'sku' => '0-34' ],
            [ 'id1c' => 17071, 'sku' => '0-35' ],
            [ 'id1c' => 17075, 'sku' => '0-36' ],
            [ 'id1c' => 17068, 'sku' => '0-37' ],
            [ 'id1c' => 17047, 'sku' => '0-38' ],
            [ 'id1c' => 17625, 'sku' => '0-39' ],
            [ 'id1c' => 17049, 'sku' => '0-40' ],
            [ 'id1c' => 17043, 'sku' => '0-41' ],
            [ 'id1c' => 17044, 'sku' => '0-42' ],
            [ 'id1c' => 17626, 'sku' => '0-43' ],
            [ 'id1c' => 17627, 'sku' => '0-44' ],
            [ 'id1c' => 17628, 'sku' => '0-45' ],
            [ 'id1c' => 18116, 'sku' => '0-47' ],
            [ 'id1c' => 18948, 'sku' => '0-48' ],
            [ 'id1c' => 17629, 'sku' => '0-49' ],
            [ 'id1c' => 17630, 'sku' => '0-50' ],
            [ 'id1c' => 17631, 'sku' => '0-51' ],
            [ 'id1c' => 17632, 'sku' => '0-52' ],
            [ 'id1c' => 17633, 'sku' => '0-53' ],
            [ 'id1c' => 17057, 'sku' => '0-54' ],
            [ 'id1c' => 18098, 'sku' => '0-55' ],
            [ 'id1c' => 18117, 'sku' => '0-56' ],
            [ 'id1c' => 18706, 'sku' => '0-57' ],
            [ 'id1c' => 17058, 'sku' => '0-58' ],
            [ 'id1c' => 18118, 'sku' => '0-59' ],
            [ 'id1c' => 18896, 'sku' => '0-60' ],
            [ 'id1c' => 17634, 'sku' => '0-61' ],
            [ 'id1c' => 17635, 'sku' => '0-62' ],
            [ 'id1c' => 17636, 'sku' => '0-63' ],
            [ 'id1c' => 18119, 'sku' => '0-64' ],
            [ 'id1c' => 17637, 'sku' => '0-65' ],
            [ 'id1c' => 17638, 'sku' => '0-66' ],
            [ 'id1c' => 17639, 'sku' => '0-67' ],
            [ 'id1c' => 17640, 'sku' => '0-68' ],
            [ 'id1c' => 17641, 'sku' => '0-69' ],
            [ 'id1c' => 17842, 'sku' => '0-70' ],
            [ 'id1c' => 17843, 'sku' => '0-71' ],
            [ 'id1c' => 17844, 'sku' => '0-72' ],
            [ 'id1c' => 17845, 'sku' => '0-73' ],
            [ 'id1c' => 17846, 'sku' => '0-74' ],
            [ 'id1c' => 17847, 'sku' => '0-75' ],
            [ 'id1c' => 18120, 'sku' => '0-76' ],
            [ 'id1c' => 17848, 'sku' => '0-77' ],
            [ 'id1c' => 17849, 'sku' => '0-78' ],
            [ 'id1c' => 18099, 'sku' => '0-79' ],
            [ 'id1c' => 18100, 'sku' => '0-80' ],
            [ 'id1c' => 18101, 'sku' => '0-81' ],
            [ 'id1c' => 18102, 'sku' => '0-82' ],
            [ 'id1c' => 18103, 'sku' => '0-83' ],
            [ 'id1c' => 18104, 'sku' => '0-84' ],
            [ 'id1c' => 18105, 'sku' => '0-85' ],
            [ 'id1c' => 18106, 'sku' => '0-86' ],
            [ 'id1c' => 18107, 'sku' => '0-87' ],
            [ 'id1c' => 18707, 'sku' => '0-88' ],
            [ 'id1c' => 18708, 'sku' => '0-89' ],
            [ 'id1c' => 18709, 'sku' => '0-90' ],
            [ 'id1c' => 18710, 'sku' => '0-91' ],
            [ 'id1c' => 18711, 'sku' => '0-92' ],
            [ 'id1c' => 18712, 'sku' => '0-93' ],
            [ 'id1c' => 18713, 'sku' => '0-94' ],
            [ 'id1c' => 18714, 'sku' => '0-95' ],
            [ 'id1c' => 18949, 'sku' => '0-96' ],
            [ 'id1c' => 18715, 'sku' => '0-97' ],
            [ 'id1c' => 18716, 'sku' => '0-98' ],
            [ 'id1c' => 18717, 'sku' => '0-99' ],
            [ 'id1c' => 17642, 'sku' => '1-01' ],
            [ 'id1c' => 17046, 'sku' => '1-02' ],
            [ 'id1c' => 17059, 'sku' => '1-03' ],
            [ 'id1c' => 17073, 'sku' => '1-04' ],
            [ 'id1c' => 17850, 'sku' => '1-05' ],
            [ 'id1c' => 17056, 'sku' => '1-06' ],
            [ 'id1c' => 17851, 'sku' => '1-07' ],
            [ 'id1c' => 17643, 'sku' => '1-08' ],
            [ 'id1c' => 17644, 'sku' => '1-09' ],
            [ 'id1c' => 17645, 'sku' => '1-10' ],
            [ 'id1c' => 17646, 'sku' => '1-11' ],
            [ 'id1c' => 17647, 'sku' => '1-12' ],
            [ 'id1c' => 17852, 'sku' => '1-13' ],
            [ 'id1c' => 18108, 'sku' => '1-14' ],
            [ 'id1c' => 18109, 'sku' => '1-15' ],
            [ 'id1c' => 18718, 'sku' => '1-16' ],
            [ 'id1c' => 18719, 'sku' => '1-17' ],
            [ 'id1c' => 18897, 'sku' => '1-18' ],
            [ 'id1c' => 18898, 'sku' => '1-19' ],
            [ 'id1c' => 18899, 'sku' => '1-20' ],
            [ 'id1c' => 18900, 'sku' => '1-21' ],
            [ 'id1c' => 18901, 'sku' => '1-22' ],
            [ 'id1c' => 18902, 'sku' => '1-23' ],
            [ 'id1c' => 17077, 'sku' => '2-01' ],
            [ 'id1c' => 17062, 'sku' => '2-02' ],
            [ 'id1c' => 17091, 'sku' => '2-03' ],
            [ 'id1c' => 17092, 'sku' => '2-04' ],
            [ 'id1c' => 17052, 'sku' => '2-05' ],
            [ 'id1c' => 17067, 'sku' => '2-06' ],
            [ 'id1c' => 17070, 'sku' => '2-07' ],
            [ 'id1c' => 17086, 'sku' => '2-08' ],
            [ 'id1c' => 17648, 'sku' => '2-09' ],
            [ 'id1c' => 17649, 'sku' => '2-10' ],
            [ 'id1c' => 17096, 'sku' => '2-11' ],
            [ 'id1c' => 17072, 'sku' => '2-12' ],
            [ 'id1c' => 17650, 'sku' => '2-13' ],
            [ 'id1c' => 17651, 'sku' => '2-14' ],
            [ 'id1c' => 17652, 'sku' => '2-15' ],
            [ 'id1c' => 17653, 'sku' => '2-16' ],
            [ 'id1c' => 17654, 'sku' => '2-17' ],
            [ 'id1c' => 17655, 'sku' => '2-18' ],
            [ 'id1c' => 17656, 'sku' => '2-19' ],
            [ 'id1c' => 17853, 'sku' => '2-20' ],
            [ 'id1c' => 17854, 'sku' => '2-21' ],
            [ 'id1c' => 18110, 'sku' => '2-22' ],
            [ 'id1c' => 18111, 'sku' => '2-23' ],
            [ 'id1c' => 18720, 'sku' => '2-24' ],
            [ 'id1c' => 18721, 'sku' => '2-25' ],
            [ 'id1c' => 18722, 'sku' => '2-26' ],
            [ 'id1c' => 18723, 'sku' => '2-27' ],
            [ 'id1c' => 18724, 'sku' => '2-28' ],
            [ 'id1c' => 18903, 'sku' => '2-29' ],
            [ 'id1c' => 18904, 'sku' => '2-30' ],
            [ 'id1c' => 18905, 'sku' => '2-31' ],
            [ 'id1c' => 18950, 'sku' => '2-32' ],
            [ 'id1c' => 17095, 'sku' => '3-01' ],
            [ 'id1c' => 17094, 'sku' => '3-02' ],
            [ 'id1c' => 17081, 'sku' => '3-03' ],
            [ 'id1c' => 17079, 'sku' => '3-04' ],
            [ 'id1c' => 17080, 'sku' => '3-05' ],
            [ 'id1c' => 17657, 'sku' => '3-06' ],
            [ 'id1c' => 17658, 'sku' => '3-07' ],
            [ 'id1c' => 17076, 'sku' => '3-08' ],
            [ 'id1c' => 17659, 'sku' => '3-09' ],
            [ 'id1c' => 17855, 'sku' => '3-10' ],
            [ 'id1c' => 17856, 'sku' => '3-11' ],
            [ 'id1c' => 17857, 'sku' => '3-12' ],
            [ 'id1c' => 18725, 'sku' => '3-13' ],
            [ 'id1c' => 18726, 'sku' => '3-14' ],
            [ 'id1c' => 18906, 'sku' => '3-15' ],
            [ 'id1c' => 18951, 'sku' => '3-16' ],
            [ 'id1c' => 1314, 'sku' => '3-17' ],
            [ 'id1c' => 17078, 'sku' => '4-01' ],
            [ 'id1c' => 17660, 'sku' => '4-02' ],
            [ 'id1c' => 17093, 'sku' => '4-03' ],
            [ 'id1c' => 17661, 'sku' => '4-04' ],
            [ 'id1c' => 17089, 'sku' => '4-05' ],
            [ 'id1c' => 17084, 'sku' => '4-06' ],
            [ 'id1c' => 17085, 'sku' => '4-07' ],
            [ 'id1c' => 18112, 'sku' => '4-08' ],
            [ 'id1c' => 18113, 'sku' => '4-09' ],
            [ 'id1c' => 18727, 'sku' => '4-10' ],
            [ 'id1c' => 18728, 'sku' => '4-11' ],
            [ 'id1c' => 18729, 'sku' => '4-12' ],
            [ 'id1c' => 18730, 'sku' => '4-13' ],
            [ 'id1c' => 18731, 'sku' => '4-14' ],
            [ 'id1c' => 18732, 'sku' => '4-15' ],
            [ 'id1c' => 18733, 'sku' => '4-16' ],
            [ 'id1c' => 17662, 'sku' => '5-01' ],
            [ 'id1c' => 17663, 'sku' => '5-02' ],
            [ 'id1c' => 17090, 'sku' => '5-03' ],
            [ 'id1c' => 17087, 'sku' => '5-04' ],
            [ 'id1c' => 17664, 'sku' => '5-05' ],
            [ 'id1c' => 17088, 'sku' => '5-06' ],
            [ 'id1c' => 17083, 'sku' => '5-07' ],
            [ 'id1c' => 17665, 'sku' => '5-08' ],
            [ 'id1c' => 17666, 'sku' => '5-09' ],
            [ 'id1c' => 17667, 'sku' => '5-10' ],
            [ 'id1c' => 18114, 'sku' => '5-11' ],
            [ 'id1c' => 18908, 'sku' => '5-12' ],
            [ 'id1c' => 18907, 'sku' => '5-13' ],
            [ 'id1c' => 18952, 'sku' => '5-14' ],
            [ 'id1c' => 18953, 'sku' => '5-15' ],
            [ 'id1c' => 17082, 'sku' => '6-01' ],
            [ 'id1c' => 1028, 'sku' => '6-04' ],
            [ 'id1c' => 1472, 'sku' => '6-05' ],
            [ 'id1c' => 1445, 'sku' => '6-06' ],
            [ 'id1c' => 6199, 'sku' => '6-07' ],
        ];
    }


    public function actionIndex($mode){
        if ($mode == "sku_1c"){
            $this->sku_1c();
        }else{
            $this->parseCatalog('http://www.alisa-collection.ru/?id=224');
            for ($i=2; $i <= 21; $i++){
                $this->parseCatalog('http://www.alisa-collection.ru/?id=224&page224='.$i); 
            }           
        }
    }


    public function sku_1c(){
        $f = fopen("db/alisa.spr", "r");
        if ($f) {
            while (($str = fgets($f)) !== false) {
                $str = iconv("CP1251", "UTF-8", $str);
                $a = split(';', $str);
                if (count($a) == 18){
                    $id1c = $a[0];
                    $name = $a[2];                   
                    preg_match('/(\d+-\d+)\s+/', $name, $matches);
                    if (!empty($matches[1])){
                       $sku = $matches[1]; 
                       echo "[ 'id1c' => ".$id1c.", 'sku' => '".$sku."' ],\n";
                    }                    
                }
            }
            if (!feof($f)) {
                echo "Error: unexpected fgets() fail\n";
            }
            fclose($f);
        }
    }



    function checkSku($product){
        preg_match('/(\w+)-/', $product['sku'], $matches);
        if (count($matches) == 2){
            return $matches[1] != 0;
        }
        return false; 
    }



    function parseSet($url){
        $html = file_get_html($url);
        $product = array();

        //'http://www.alisa-collection.ru/?id=19984';
        $product['urlSrc'] = $url;
        if (preg_match('/\?id=(\d+)/', $url, $matches)){
            $product['id'] = $matches[1];       
        }
        foreach($html->find('.block_is') as $div){
            foreach($div->find('h1') as $div_h1){       
                $product['name']  = $div_h1->plaintext;
            }
            foreach($div->find('#content_'.$product['id']) as $divContent){     
                foreach($divContent->find('img') as $img){      
                    $product['imgUrl']  = 'http://www.alisa-collection.ru/'.$img->src;
                    $product['imgFile'] = 'icon.jpg';
                }
                $a = explode(PHP_EOL, $divContent->plaintext);
                foreach ($a as $attr){
                    $attr = trim($attr);                
                    $patterns = array();
                    $patterns[0] = '/&nbsp;/';
                    $replacements = array();
                    $replacements[0] = ' ';
                    if (strlen($attr) > 0){
                        $attr =  preg_replace($patterns, $replacements, $attr);
                        $attr = explode(':', $attr);
                        if (count($attr) == 2){
                            $attrName = trim($attr[0]);
                            $attrVal  = trim($attr[1]);
                            switch ($attrName){
                                case 'Артикул':
                                    $product['sku'] = $attrVal;
                                    $product['id1C'] = $this->findId1c($product['sku']);
                                    break;
                                case 'Размер':
                                    $product['size'] = $attrVal;
                                    break;
                                case 'Техника  вышивания':
                                    $product['tech'] = $attrVal;
                                    break;  
                                case 'Техника вышивания':
                                    $product['tech'] = $attrVal;
                                    break;                                      
                                case 'Канва':
                                    $product['canva'] = $attrVal;
                                    break;  
                                case 'Мулине':
                                    $product['floss'] = $attrVal;
                                    break;  
                                case 'Количество  цветов':
                                    $product['colorCount'] = $attrVal;
                                    break;  
                                case 'Количество цветов':
                                    $product['colorCount'] = $attrVal;
                                    break;                                     
                                case 'Инструкция':
                                    $product['language'] = $attrVal;
                                    break;  
                                case 'Игла':
                                    $product['needle'] = $attrVal;
                                    break;  
                            }
                        }                   
                    }
                }           
            }       
        }
        foreach($html->find('#basket'.$product['id'].'_price') as $div){
            $product['price'] = $div->plaintext;
        }
        $product['weight'] = 0;
        $product['txt'] = '';
        return $product;
    }



    function parseCatalog($url){
        $html = file_get_html($url);

        foreach($html->find('.stdform') as $div){
            foreach($div->find('a.menuchilds') as $a){
                //echo $a->href."\n";
                $product = $this->parseSet('http://www.alisa-collection.ru/'.$a->href);
                $product['idMmanufacturer'] = $this->manufacturerId;
                $product['idCategory'] = $this->categoryId;
                //if ($this->checkSku($product)){
                    print_r($product);
                    $this->insertProduct($product);                   
                //}
            }
        }
    }


}


?>